/*!
 * ZUI: 步骤查看组件 - v1.9.1 - 2019-06-03
 * http://zui.sexy
 * GitHub: https://github.com/easysoft/zui.git 
 * Copyright (c) 2019 cnezsoft.com; Licensed MIT
 */
!function(e){"use strict";var i="zui.guideViewer",t=function(a,d){var l=this;l.name=i,l.$=e(a),d=l.options=e.extend({},t.DEFAULTS,this.$.data(),d);var n=this.lang=d.langs[d.lang]||d.langs[Boards.DEFAULTS.lang],s=l.groupName=d.name||d.guideViewer,r=e('[data-guide-viewer="'+s+'"],[data-guide-viewer][data-name="'+s+'"]').not(".guide-viewer-inited");if(r.length){var g=l.id=d.id||e.zui.uuid(),o=e(d.template||'<div class="guide-viewer panel"><div class="carousel"><div class="carousel-inner"></div></div><div class="guide-viewer-navs panel-footer" style="display: table; width: 100%; padding: 3px;"><a class="guide-viewer-nav prev disabled" data-slide="prev" style="width: 80px"><i class="icon icon-chevron-left" style="opacity: .5"></i> '+n.prevStep+'</a><div class="guide-viewer-title text-center"><div class="text"></div></div><a class="guide-viewer-nav next text-right" data-slide="next" style="width: 80px">'+n.nextStep+' <i class="icon icon-chevron-right" style="opacity: .5"></i></a></div></div>'),v=o.find(".carousel").attr("id","carousel-"+g).toggleClass("slide",!!d.slide).css({margin:0}),u=o.find(".carousel-inner");o.find(".guide-viewer-nav").attr("href","#carousel-"+g);var c=o.find(".guide-viewer-navs").children().css({display:"table-cell",padding:"3px 8px",verticalAlign:"middle"}),h=c.filter(".guide-viewer-title").find(".text"),p=c.filter(".guide-viewer-nav.prev"),f=c.filter(".guide-viewer-nav.next");v.on("slide.zui.carousel",function(i){var t=e(i.relatedTarget),a=t.data("title")||"";h.text(a),p.toggleClass("disabled",!t.prev().length),f.toggleClass("disabled",!t.next().length)}).carousel(e.extend({wrap:!1,interval:!1},d.carousel));var x="number"==typeof d.height,w=d.lightbox&&e.fn.lightbox;r.each(function(i){var t=e(this),a=e('<div class="item"></div>'),l=e.extend({title:t.attr("alt")||t.attr("title")},t.data());i||(a.addClass("active"),h.text(l.title));var n=t.clone().attr("data-guide-viewer",null).removeClass("hidden");x&&a.css({height:d.height,overflowY:"auto"}),n.is("img")&&(a.addClass("is-img"),n.css({margin:"0 auto",border:"none"}),x&&(a.css({lineHeight:d.height+"px",textAlign:"center"}),n.css("display","inline-block")),w&&n.attr({"data-toggle":"lightbox","data-caption":l.title,"data-group":"lightbox-for-guide-viewer-"+s,"data-height":null})),a.data(l).append(n).appendTo(u),t.hide().addClass("guide-viewer-inited")}),w&&o.find('[data-toggle="lightbox"]').lightbox(),o.insertAfter(l.$),d.defaultPos&&v.data("zui.carousel").to(d.defaultPos)}};t.DEFAULTS={lang:e.zui.clientLang(),lightbox:!1,height:"auto",langs:{zh_cn:{prevStep:"上一步",nextStep:"下一步"},zh_tw:{prevStep:"上一步",nextStep:"下一步"},en:{prevStep:"Prev Step",nextStep:"Next Step"}}},e.fn.guideViewer=function(a){return this.each(function(){var d=e(this),l=d.data(i);if(!(d.hasClass("guide-viewer-inited")||l&&l[i])){var n="object"==typeof a&&a;l||d.data(i,l=new t(this,n)),"string"==typeof a&&l[a]()}})},t.NAME=i,e.fn.guideViewer.Constructor=t,e(function(){e("[data-guide-viewer]").guideViewer()})}(jQuery);